<div class="flex flex-col w-full">
  <ng-container>

    <!-- Header -->

    <div class="flex flex-col shadow bg-card">
      <!-- Cover image -->
      <div class="relative w-full h-40 lg:h-80 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
        <!-- Background -->
        <ng-container *ngIf="coverUrl">
          <img class="absolute inset-0 object-cover w-full h-full" [src]="coverUrl">
        </ng-container>
        <!-- Close button -->
        <div class="flex items-center justify-end w-full  mx-auto pt-6">
          <a mat-icon-button class="bg-dialog text-default" [matTooltip]="'Close'" (click)="back()">
            <mat-icon>close</mat-icon>
          </a>
        </div>
      </div>
      <!-- organization info -->
      <div class="flex flex-col flex-0 lg:flex-row items-center max-w-5xl w-full mx-auto px-8 lg:h-18 bg-card">
        <!-- Avatar -->
        <div class="-mt-26 lg:-mt-22 rounded-full">
          <div
            class="relative flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">
            <!-- Upload / Remove avatar -->
            <!-- <div class="absolute inset-0 bg-black bg-opacity-50 z-10"></div> -->
            <div class="absolute inset-0 flex items-end justify-end z-20"
              *ngIf="currentUser.role == 'ADMIN' || currentUser.role == 'APPADMIN' || currentUser.role == 'APPUSER'">
              <div>
                <!-- <div class="absolute inset-0 bg-black bg-opacity-50 z-10"></div> -->
                <input id="avatar-file-input" class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                  type="file" [multiple]="false" [accept]="'image/jpeg, image/png'"
                  (change)="onFileSelect($event.target.files)" #avatarFileInput>
                <label
                  class="flex items-center justify-center   z-10 w-10 h-10 mr-3 mb-3 rounded-full cursor-pointer hover:bg-hover"
                  for="avatar-file-input" matRipple>
                  <mat-icon class="text-white bg-black bg-opacity-50 rounded-full"
                    [svgIcon]="'heroicons_outline:camera'"></mat-icon>
                </label>
              </div>
              <!-- <div>
                            <button mat-icon-button (click)="removeAvatar()">
                              <mat-icon class="text-white" [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                            </button>
                          </div> -->
            </div>
            <!-- Image/Letter -->
            <img class="w-32 h-32 rounded-full ring-4 ring-bg-card" *ngIf="organization.imageURL"
              [src]="organization.imageURL">
            <div
              class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200"
              *ngIf="!organization.imageURL">
              {{organization.oname.charAt(0)}}
            </div>
          </div>
        </div>
        <!-- Details -->
        <div class="flex flex-col items-center lg:items-start mt-4 lg:mt-0 lg:ml-8">
          <div class="text-xl font-bold leading-none">{{organization.oname}}</div>
        </div>
        <div class="flex items-center mt-8 mb-4 lg:m-0 lg:ml-auto space-x-6">
          <button class="px-3 mr-1  sm:inline-flex" mat-flat-button (click)="Edit()"
            *ngIf="currentUser.role == 'ADMIN' || currentUser.role == 'APPADMIN' || currentUser.role == 'APPUSER'">
            <mat-icon class="icon-size-5 mr-2">edit</mat-icon>
            <span>Edit Organization</span>
          </button>
        </div>
      </div>
    </div>
    <!-- organization -->
    <div class="relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0">
      <div class="w-full ">
        <div class="flex flex-auto  w-full max-w-5xl mx-auto p-6 sm:p-8 space-x-6">
          <fuse-card class="flex flex-col w-full p-8">
            <div class="flex items-center justify-between">
              <div class="text-2xl font-semibold leading-tight"> {{aboutorg}}</div>
            </div>
            <button (click)="cancelorg()" *ngIf="orgaboutEditFlag" mat-icon-button>
              <mat-icon class="icon-size-5">cancel</mat-icon>
            </button>
            <button
              *ngIf="!orgaboutEditFlag && currentUser.role == 'ADMIN' || currentUser.role == 'APPADMIN' || currentUser.role == 'APPUSER'"
              mat-icon-button [color]="'primary'" (click)="editOrgAboutMe()">
              <mat-icon class="icon-size-5">edit</mat-icon>
            </button>

            <hr class="w-full border-t my-3">

            <div class="flex flex-wrap items-center  space-x-2 w-full" *ngIf="!orgaboutEditFlag">
              <div class="flex items-center w-full sm:sm:w-1/3 w-full">
                <mat-icon class="icon-size-5 mr-3" [svgIcon]="'heroicons_solid:phone'"></mat-icon>
                <span class="leading-none" *ngIf="organization.phone">{{organization.phone}}</span>
                <span class="leading-none" *ngIf="!organization.phone">Not Available!</span>
              </div>
              <div class="flex items-center w-full sm:sm:w-1/3 w-full">
                <mat-icon class="icon-size-5 mr-3">email</mat-icon>
                <span class="leading-none" *ngIf="organization.email">{{organization.email}}</span>
                <span class="leading-none" *ngIf="!organization.email">Not Available!</span>
              </div>
            </div>
            <div class="flex flex-wrap items-center justify-between space-x-2 w-full" *ngIf="orgaboutEditFlag">


              <mat-form-field class="flex-auto gt-xs:pr-3 p-05 sm:sm:w-1/3 w-full" style="margin-left: 0 !important;">
                <mat-label>Mobile number</mat-label>
                <mat-icon matSuffix class="secondary-text">mobile_friendly</mat-icon>
                <input type="number" name="mobile" [(ngModel)]="contactInfo.phone" matInput required>
                <mat-error>Mobile No is required!</mat-error>
              </mat-form-field>
              <mat-form-field class="flex-auto gt-xs:pr-3 p-05 sm:sm:w-1/3 w-full">
                <mat-label>Email</mat-label>
                <mat-icon matSuffix class="secondary-text">email</mat-icon>
                <input name="email" [(ngModel)]="contactInfo.email" matInput type="email" required>
              </mat-form-field>

            </div>

            <button
              *ngIf="orgaboutEditFlag && currentUser.role == 'ADMIN' || currentUser.role == 'APPADMIN' || currentUser.role == 'APPUSER'"
              class="px-6 mt-8" mat-flat-button [color]="'primary'" (click)="saveOrgAboutMe()">
              Save
            </button>
          </fuse-card>
          <fuse-card class="flex flex-col w-full p-8 sm:p-8">
            <div class="flex items-center justify-between">
              <div class="text-xl font-semibold">{{organization.oname}}</div>
            </div>
            <div class="flex flex-col sm:flex-row items-start mt-3">
              <div class="fuse-mat-textarea fuse-mat-no-subscript w-full">
                <div class=" leading-none marginbottom" style="line-height: 25px !important;"> Address:
                  {{organization.address}}</div>
                <div class=" leading-none marginbottom" style="line-height: 25px !important;"> City:
                  {{organization.city}}-{{organization.pin}}
                </div>

                <div class=" leading-none" style="line-height: 25px !important;"> State:
                  {{organization.state}},Country: {{organization.country}},
                </div>
              </div>

            </div>
          </fuse-card>
        </div>
      </div>
    </div>
  </ng-container>
</div>